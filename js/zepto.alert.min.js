!function(a,b,c){var i,d=a(b),f=(a(document),1),g=!1,h=function(b){this.settings=a.extend({},h.defaults,b),this.init()};h.prototype={init:function(){this.create(),this.settings.lock&&this.lock(),isNaN(this.settings.time)||null==this.settings.time||this.time()},create:function(){var b=null==this.settings.title?"":'<div class="rDialog-header-'+this.settings.title+'"></div>',c='<div class="rDialog-wrap">'+b+'<div class="rDialog-content">'+this.settings.content+"</div>"+'<div class="rDialog-footer"></div>'+"</div>";this.dialog=a("<div>").addClass("rDialog").css({zIndex:this.settings.zIndex+f++}).html(c).prependTo("body"),a.isFunction(this.settings.ok)&&this.ok(),a.isFunction(this.settings.cancel)&&this.cancel(),this.size(),this.position()},ok:function(){var b=this,d=this.dialog.find(".rDialog-footer");a("<a>",{href:"javascript:;",text:this.settings.okText}).on("click",function(){var a=b.settings.ok();(a==c||a)&&b.close()}).addClass("rDialog-ok").prependTo(d)},cancel:function(){var b=this,d=this.dialog.find(".rDialog-footer");a("<a>",{href:"javascript:;",text:this.settings.cancelText}).on("click",function(){var a=b.settings.cancel();(a==c||a)&&b.close()}).addClass("rDialog-cancel").appendTo(d)},size:function(){var a=this.dialog.find(".rDialog-content");this.dialog.find(".rDialog-wrap"),a.css({width:this.settings.width,height:this.settings.height})},position:function(){var a=this,b=d.width(),c=d.height(),e=0;this.dialog.css({left:(b-a.dialog.width())/2,top:(c-a.dialog.height())/2+e})},lock:function(){g||(this.lock=a("<div>").css({zIndex:this.settings.zIndex}).addClass("rDialog-mask"),this.lock.appendTo("body"),g=!0)},unLock:function(){this.settings.lock&&g&&(this.lock.remove(),g=!1)},close:function(){this.dialog.remove(),this.unLock()},time:function(){var a=this;this.closeTimer=setTimeout(function(){a.close()},this.settings.time)}},h.defaults={content:"加载中...",title:"load",width:"auto",height:"auto",ok:null,cancel:null,okText:"确定",cancelText:"取消",time:null,lock:!0,zIndex:9999},i=function(a){return new h(a)},b.rDialog=a.rDialog=a.dialog=i}(window.jQuery||window.Zepto,window);