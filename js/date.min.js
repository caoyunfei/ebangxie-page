(function(A){var B={weekText:["周日","周一","周二","周三","周四","周五","周六"],daysCount:15,};A.mobiscroll.presets.datehour=function(C){var H=A.extend({},C.settings),T=A.extend(C.settings,B,H),F=A(this);var M=new Date();var O=[];var Q={label:"日期",keys:[],values:[],};var I={label:"时间",keys:[],values:[],};for(var L=0;L<T.daysCount;L++){var K=M.valueOf();K=K+L*24*60*60*1000;K=new Date(K);var G=K.getFullYear();var S=K.getMonth()+1;var E=K.getDate();var R=S+"月"+E+"日&nbsp;"+T.weekText[K.getDay()];if(S<=9){S="0"+S}if(E<=9){E="0"+E}var D=G+"-"+S+"-"+E;Q.keys.push(D);if(L==0){R="今天"}else{if(L==1){R="明天"}}Q.values.push(R)}for(var N=0;N<=23;N++){if(N<=9){N="0"+N}I.keys.push(N+":00",N+":30")}for(var J=0;J<I.keys.length;J++){I.values.push(I.keys[J])}var P=[];P.push(Q);P.push(I);O.push(P);return{wheels:O,parseValue:function(c,W){var U=new RegExp(/[0-9]{4}-[0-9]{2}-[0-9]{2}[" "]{1}[0-9]{2}[:]{1}[0-9]{2}/);if(c==null||c==""||!U.test(c)){var b=new Date();var V=b.getHours();var f=b.getMinutes();if(V>=0&&V<8||(V==8&&f==0)){V=10}else{if(V>=8&&V<17||(V==17&&f==0)){if(f==0){V=V+2}else{V=V+3}}else{b=b.valueOf();b=b+24*60*60*1000;b=new Date(b);V=10}}if(V>19){V=19}var Z=b.getFullYear();var a=b.getMonth()+1;var Y=b.getDate();a=a<=9?"0"+a:a;Y=Y<=9?"0"+Y:Y;V=V<=9?"0"+V:V;c=Z+"-"+a+"-"+Y+" "+V+":00"}var g=c.split(" "),X=[],e=0,d;A.each(W.settings.wheels,function(j,h){A.each(h,function(k,i){i=i.values?i:convert(i);d=i.keys||i.values;if(A.inArray(g[e],d)!==-1){X.push(g[e])}else{X.push(d[0])}e++})});return X},validate:function(i,Y){var d=new Date();var V=d.getHours();var W=d.getMinutes();if(V>=0&&V<8||(V==8&&W==0)){V=10}else{if(V>=8&&V<17||(V==17&&W==0)){if(W==0){V=V+2}else{V=V+2}}else{d=d.valueOf();d=d+24*60*60*1000;d=new Date(d);V=8}}if(V>19){V=19}var g=d.getFullYear();var m=d.getMonth()+1;var a=d.getDate();m=m<=9?"0"+m:m;a=a<=9?"0"+a:a;V=V<=9?"0"+V:V;var k=g+"-"+m+"-"+a;var b=A(".dw-ul",i).eq(0);var j=A(".dw-ul",i).eq(1);var e=A(".dw-li",b).index(A('.dw-li[data-val="'+k+'"]',b)),c=A(".dw-li",b).size();A(".dw-li",b).removeClass("dw-v").slice(e,c).addClass("dw-v");var f=V+":00",U="18:00";var Z=C.temp;if(Z[0]!=k){f="08:00"}else{if(d.getHours()>20||(d.getHours()==20&&W>0)){f="10:00"}}var X=A(".dw-li",j).index(A('.dw-li[data-val="'+f+'"]',j)),l=A(".dw-li",j).index(A('.dw-li[data-val="'+U+'"]',j));A(".dw-li",j).removeClass("dw-v").slice(X,l+1).addClass("dw-v")},}};A.mobiscroll.presetShort("datehour")})(jQuery);